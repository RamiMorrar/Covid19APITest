<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title>Covid 19 Api in Javascript</title>
    <link rel="stylesheet"  href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" />
</head>
<body>
    <div class="container">
        <h1 class="text-center mt-5"> Covid 19 Live Data Table</h1>
        <br/><br/>
        <table class="table table-hover">
            <thead>
                <tr>
                    <th> Total Cases</th>
                    <th> Total Deaths</th>
                    <th> Total Recovered</th>
                </tr>

            </thead>
            <tbody>
                <tr id="data">

                </tr>
            </tbody>
        </table>
        <br/>
       <button onclick="refreshData()" class="btn btn-danger btn-block">
           Refresh Page
       </button>
    </div>

</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

    
        init()

        function init() {
            var url = "https://api.covid19api.com/summary"

            var data = ''
            $.get(url, function (data) {
                console.log(data.Global)

                data = `
                 <td> ${data.Global.TotalConfirmed} </td>
                 <td> ${data.Global.TotalDeaths} </td>
                 <td> ${data.Global.TotalRecovered} </td>
                     `
               $("#data").html(data)
            })
        }
        function refreshData() {
            clearData()
            init() /*Initializes data to be shown*/
        }
        function clearData() { /*clears data for latest updated set*/
            $("#data").empty()
            
        }
    
</script>
</html>